<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Algorithm Visualizer</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{ --bg:#0e1116; --text:#e8eef9; --muted:#9fb1d1; --card:#121a28; --accent:#6aa6ff; --radius:14px; }
  *{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui; background:var(--bg); color:var(--text)}
  .wrap{max-width:900px;margin:32px auto;padding:0 16px}
  h1{margin:0 0 6px} .sub{color:var(--muted);margin:0 0 18px}
  .card{background:linear-gradient(180deg,#192132,#0e1420); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.3)}
  button{padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#142138;color:#cfe1ff;font-weight:700;cursor:pointer;margin-right:8px}
  button:hover{outline:0 0 0 3px rgba(106,166,255,.25)}
  canvas{background:linear-gradient(180deg,#0f1624,#0b1321);border:1px solid rgba(255,255,255,.08);border-radius:12px;width:100%;height:280px}
  .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-bottom:10px}
  .muted{color:var(--muted)}
</style>
</head>
<body>
<div class="wrap">
  <h1>Algorithm Visualizer</h1>
  <p class="sub">Bubble vs Insertion â€” animated on Canvas. Shuffle, then run either algorithm.</p>

  <div class="card">
    <div class="row">
      <button id="shuffle">Shuffle</button>
      <button id="bubble">Bubble Sort</button>
      <button id="insertion">Insertion Sort</button>
      <span class="muted" id="status"></span>
    </div>
    <canvas id="viz" width="860" height="280"></canvas>
  </div>
</div>

<script>
  const canvas = document.getElementById('viz');
  const ctx = canvas.getContext('2d');
  const N = 60;
  let arr = Array.from({length:N}, _=>Math.floor(Math.random()*100)+5);
  let running = false;

  function draw(highlightIndex=-1){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    const w = canvas.width / N;
    arr.forEach((v,i)=>{
      ctx.fillStyle = i===highlightIndex ? '#6aa6ff' : '#9fb1d1';
      ctx.fillRect(i*w+1, canvas.height - v*2, w-2, v*2);
    });
  }

  function sleep(ms){ return new Promise(r=>setTimeout(r, ms)); }
  function setStatus(t){ document.getElementById('status').textContent = t; }

  document.getElementById('shuffle').onclick = ()=>{
    if(running) return;
    arr = arr.sort(()=>Math.random()-0.5);
    draw();
    setStatus('Shuffled');
  };

  document.getElementById('bubble').onclick = async ()=>{
    if(running) return;
    running = true; setStatus('Running Bubble Sort...');
    for(let i=0;i<N;i++){
      for(let j=0;j<N-i-1;j++){
        if(arr[j]>arr[j+1]) [arr[j],arr[j+1]]=[arr[j+1],arr[j]];
        draw(j);
        await sleep(10);
      }
    }
    running = false; setStatus('Done (Bubble Sort)');
  };

  document.getElementById('insertion').onclick = async ()=>{
    if(running) return;
    running = true; setStatus('Running Insertion Sort...');
    for(let i=1;i<N;i++){
      let k=arr[i], j=i-1;
      while(j>=0 && arr[j]>k){
        arr[j+1]=arr[j]; j--;
        draw(j+1); await sleep(10);
      }
      arr[j+1]=k; draw(i); await sleep(10);
    }
    running = false; setStatus('Done (Insertion Sort)');
  };

  draw();
</script>
</body>
</html>